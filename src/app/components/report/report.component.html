<div class="topbar">
  <div class="container">
    <div class="row">
      <form class="col-md-12 select" action="index.html" method="post">
        <strong>Moodle:</strong>
        <mat-form-field class="mat-form" >
          <mat-select [(ngModel)]="form_moodle" name="form_moodle" (change)="getCourses()">
            <mat-option *ngFor="let moodle of moodles let i = index" [value]="moodle">{{moodle.name}}</mat-option>
          </mat-select>
        </mat-form-field>
        <strong>Curso:</strong>
        <mat-form-field class="mat-form">
          <mat-select [(ngModel)]="form_courseid" name="form_courseid" (change)="getCourse(form_courseid)">
            <mat-option  *ngFor="let course of courses let i = index" [value]="i">{{course.fullname}}</mat-option>
          </mat-select>
        </mat-form-field>
      </form>
    </div>
  </div>
</div>

<div class="container">
  <div class="row">
    <div class="col-md-12 title" *ngIf="isCourseSelected">
      <h2>{{course.fullname}}</h2>
      <p *ngIf="enrolledUsers">Alunos matriculados: {{enrolledUsers.length}}</p>

    </div>
    <div class="enrolled-users"></div>
  </div>
  <flash-messages></flash-messages>
  <div class="row">
    <div class="chart col-md-12"><canvas id="doughnut"></canvas></div>
  </div>
  <div class="row">
    <div class="tabs col-md-12" *ngIf="usersAccessData">
      <mat-tab-group>
        <mat-tab label="Nunca">
          <ul class="list">
            <li *ngFor="let user of usersAccessData[0]">
                <h5>{{user.firstname}} {{user.lastname}}</h5>
            </li>
          </ul>
        </mat-tab>
        <mat-tab label="1-2 dias">
          <ul class="list">
            <li *ngFor="let user of usersAccessData[1]">
                <h5>{{user.firstname}} {{user.lastname}}</h5>
            </li>
          </ul>
        </mat-tab>
        <mat-tab label="3-5 dias">
          <ul class="list">
            <li *ngFor="let user of usersAccessData[2]">
                <h5>{{user.firstname}} {{user.lastname}}</h5>
            </li>
          </ul>
        </mat-tab>
        <mat-tab label="5-10 dias">
          <ul class="list">
            <li *ngFor="let user of usersAccessData[3]">
                <h5>{{user.firstname}} {{user.lastname}}</h5>
            </li>
          </ul>
      </mat-tab>
        <mat-tab label="10+ dias">
          <ul>
            <li *ngFor="let user of usersAccessData[4]">
                <h5>{{user.firstname}} {{user.lastname}}</h5>
            </li>
          </ul>
        </mat-tab>
      </mat-tab-group>
    </div>
  </div>
</div>
